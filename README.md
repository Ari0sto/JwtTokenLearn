# ASP.NET Core Web API: JWT Authentication & Role-Based Authorization

Учебный проект, демонстрирующий реализацию системы аутентификации и авторизации с использованием **ASP.NET Core Identity** и **JWT Bearer Tokens**.

## - Технологии
* **Платформа:** .NET 8 (ASP.NET Core Web API)
* **База данных:** MS SQL Server (LocalDB)
* **ORM:** Entity Framework Core
* **Auth:** Identity Core + JWT (JSON Web Tokens)
* **Docs:** Swagger UI

## - Функционал
* **Регистрация пользователей:** Создание новой учетной записи.
* **Аутентификация (Login):** Выдача JWT-токена с "вшитыми" ролями (Claims).
* **Ролевая модель:** Разграничение прав доступа (`User`, `Admin`).
* **Seeding:** Автоматическое создание ролей и Администратора при первом запуске.
* **Защищенные маршруты:**
    * Public (доступно всем)
    * Authenticated (доступно всем с токеном)
    * Admin Only (доступно только роли Admin)

## - Как запустить
1.  Клонировать репозиторий.
2.  Настроить строку подключения в `appsettings.json` (по умолчанию используется `(localdb)\MSSQLLocalDB`).
3.  Применить миграции (или просто запустить проект, инициализатор сработает автоматически):
    ```bash
    dotnet ef database update
    ```
4.  Запустить проект (F5 в Visual Studio или `dotnet run`).

## - Тестовые данные (Credentials)
При первом запуске приложение автоматически создает пользователя-администратора. Используйте эти данные для получения токена с правами `Admin`.

| Role | Email | Password |
|------|-------|----------|
| **Admin** | `admin@test.com` | `Admin@123` |
| **User** | *(Зарегистрируйте нового пользователя через /api/Account/register)* | *(Ваш пароль)* |

## - Как тестировать в Swagger
1.  Выполните метод `POST /api/Account/login` с данными Админа.
2.  Скопируйте полученный `token` из ответа.
3.  Нажмите кнопку **Authorize** (сверху справа).
4.  Введите значение в формате: `Bearer ВАШ_ТОКЕН` (через пробел!).
5.  Нажмите **Login**. Теперь вам доступны методы `Admin Only`.